<p style="color: green"><%= notice %></p>

<%= render @bicycle, bicycle: @bicycle, show_details: true %>

<div id="gmp-map" data-latitude="<%= @bicycle.latitude %>" data-longitude="<%= @bicycle.longitude %>" style="height: 300px;"></div>

<%= render 'calendar', bicycle: @bicycle %>
<div class="mt-6 mb-6 d-flex flex-column align-items-center">
  <% if user_signed_in? %>
    <%= render 'rentals/form', bicycle: @bicycle %>
      <% if current_user.id == @bicycle.owner.id %>
        <%= link_to "Modifier mon annonce", edit_bicycle_path(@bicycle), class: "btn btn-primary" %>
        <%= button_to "Supprimer mon annonce", @bicycle, method: :delete, class: "btn btn-danger" %>
      <% else %>
      <% end %>  
    <%= link_to "Retour", bicycles_path %>  
  <% else %>
    <%= link_to "Connectez-vous pour louer ce vÃ©lo", new_user_session_path, class: "btn btn-outline-primary btn-sm" %>
  <% end %>
</div>

<%= javascript_include_tag 'estimate_cost' %>
<%= javascript_include_tag "https://maps.googleapis.com/maps/api/js?key=#{ENV['GOOGLE_MAPS_API_KEY']}&libraries=places,marker&callback=initSimpleMap&solution_channel=GMP_QB_addressselection_v2_cABC", defer: true %>
<%= javascript_include_tag 'simpleMap' %>